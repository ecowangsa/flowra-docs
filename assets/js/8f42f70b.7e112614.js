"use strict";(globalThis.webpackChunkflowra_docs=globalThis.webpackChunkflowra_docs||[]).push([[660],{7768:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"testing/strategy","title":"Testing Strategy","description":"Use Node\u2019s built-in test runner and Flowra\u2019s modular structure to test services and routes.","source":"@site/docs/testing/strategy.mdx","sourceDirName":"testing","slug":"/testing/strategy","permalink":"/docs/testing/strategy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Testing Strategy","description":"Use Node\u2019s built-in test runner and Flowra\u2019s modular structure to test services and routes."},"sidebar":"docsSidebar","previous":{"title":"Security Overview","permalink":"/docs/security/overview"},"next":{"title":"Deployment Guide","permalink":"/docs/deployment/guide"}}');var r=s(4848),i=s(8453);const o={title:"Testing Strategy",description:"Use Node\u2019s built-in test runner and Flowra\u2019s modular structure to test services and routes."},a=void 0,c={},d=[{value:"Running tests",id:"running-tests",level:2},{value:"Example unit test",id:"example-unit-test",level:2},{value:"Integration tests",id:"integration-tests",level:2}];function l(e){const t={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Flowra does not impose a testing framework. The scaffold uses Node\u2019s built-in test runner (",(0,r.jsx)(t.code,{children:"node:test"}),") for fast, dependency-free tests."]}),"\n",(0,r.jsx)(t.h2,{id:"running-tests",children:"Running tests"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"npm test\n"})}),"\n",(0,r.jsx)(t.p,{children:"The default script runs:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"node --test\n"})}),"\n",(0,r.jsx)(t.h2,{id:"example-unit-test",children:"Example unit test"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",metastring:'title="tests/project.test.js"',children:"const test = require('node:test');\nconst assert = require('node:assert/strict');\nconst pkg = require('../package.json');\n\ntest('package metadata is initialised', () => {\n  assert.ok(pkg.name);\n  assert.ok(pkg.version);\n});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"integration-tests",children:"Integration tests"}),"\n",(0,r.jsxs)(t.p,{children:["Spin up the app via ",(0,r.jsx)(t.code,{children:"createApp()"})," and test routes with a HTTP client like ",(0,r.jsx)(t.code,{children:"supertest"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"const request = require('supertest');\nconst { createApp } = require('../app/Bootstrap/server.bootstrap');\n\ntest('GET /status returns ok', async () => {\n  const { app } = createApp();\n  const response = await request(app).get('/status');\n  assert.equal(response.statusCode, 200);\n});\n"})}),"\n",(0,r.jsx)(t.admonition,{title:"Dependencies",type:"note",children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"supertest"})," is not included by default. Install it when you need integration tests."]})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>a});var n=s(6540);const r={},i=n.createContext(r);function o(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);