---
id: cli-overview
slug: /cli/overview
sidebar_position: 11
---

# Ringkasan CLI Flowra

## Entry point
CLI berada di `bin/flowra.ts` dan menyalakan application container yang sama dengan server HTTP. Perintah dideklarasikan di `core/console/commands` dan diregistrasi melalui `core/console/index.ts`.

Jalankan CLI dengan `npx flowra <command>` atau tambahkan `"flowra": "flowra"` pada script `package.json`.

## Berkas konfigurasi
- `orm.cli.config.js` – konfigurasi migrasi & seed Knex.
- `flowra.config.ts` – pengaturan level proyek untuk generator (namespace, path, template).
- `tsconfig.json` – memastikan generator menghasilkan TypeScript sesuai aturan proyek.

## Daftar perintah
| Perintah | Deskripsi | Opsi |
| -------- | --------- | ---- |
| `flowra create-app <name>` | Membuat aplikasi Flowra baru. | `--template <git\|path>` memilih template, `--package-manager <npm\|yarn\|pnpm>`. |
| `flowra serve` | Menjalankan server HTTP dengan watch mode dan hot reload container. | `--watch`, `--port <number>`, `--env <file>`. |
| `flowra make:module <name>` | Membuat skeleton modul (route, controller, service, provider). | `--path <dir>`, `--http` aktifkan stub HTTP, `--tests`. |
| `flowra make:controller <module\/name>` | Membuat controller dalam modul. | `--resource` generate aksi RESTful, `--force`. |
| `flowra make:service <module\/name>` | Membuat kelas service dan mendaftarkannya. | `--singleton` atau `--transient`. |
| `flowra make:model <module\/name>` | Membuat model berbasis Knex dengan method dasar. | `--table <tableName>`. |
| `flowra make:request <module\/name>` | Membuat kelas request validasi. | `--schema <zod\|yup>`. |
| `flowra make:middleware <module\/name>` | Membuat middleware dan menghubungkannya ke kernel modul. | `--global` daftar global. |
| `flowra make:migration <name>` | Membuat file migrasi memakai stub Knex. | `--connection <id>`, `--create <table>`, `--table <table>`. |
| `flowra migrate` | Menjalankan migrasi yang tertunda. | `--connection <id>`, `--force`. |
| `flowra migrate:rollback` | Mengembalikan batch migrasi terakhir. | `--connection <id>`, `--all`. |
| `flowra seed` | Menjalankan seeder database. | `--connection <id>`. |
| `flowra make:test <module\/name>` | Membuat test Jest menggunakan application test module. | `--type <unit\|integration>`. |

> **note**
> Jalankan `npx flowra --help` untuk melihat deskripsi dan opsi setiap perintah. Semua perintah terdokumentasi otomatis lewat metadata console di `core/console/command.ts`.

## Memperluas CLI
Tambahkan perintah baru dengan membuat file di `core/console/commands`:

```ts
import {Command} from '../command';

export default new Command('cache:clear')
  .description('Clear cache stores')
  .option('--store <store>', 'Select store to clear', 'default')
  .action(async ({container, options}) => {
    const cache = container.resolve(CacheManager);
    await cache.clear(options.store);
    console.log('Cache cleared');
  });
```

Registrasikan di `core/console/index.ts`:

```ts
import cacheClear from './commands/cache-clear.command';

export const commands = [
  // ...perintah lain
  cacheClear,
];
```

## Praktik terbaik
- Buat generator bersifat idempoten—menjalankan ulang tidak merusak berkas yang ada.
- Minta input sesedikit mungkin dan turunkan default dari `flowra.config.ts`.
- Tulis integration test untuk perintah menggunakan utilitas filesystem in-memory di `core/console/testing`.
- Dokumentasikan perintah kustom di `docs/id/16-resep.mdx` agar tim mengetahuinya.
