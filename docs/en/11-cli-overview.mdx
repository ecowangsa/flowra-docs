---
id: cli-overview
slug: /cli/overview
sidebar_position: 11
---

# Flowra CLI Overview

## Entry point
The CLI lives at `bin/flowra.ts` and boots the same application container used by the HTTP server. Commands are declared under `core/console/commands` and registered via `core/console/index.ts`.

Invoke the CLI with `npx flowra <command>` or add `"flowra": "flowra"` to `package.json` scripts.

## Configuration files
- `orm.cli.config.js` – Knex migrations & seeds configuration.
- `flowra.config.ts` – project-level settings for generators (namespace, paths, templates).
- `tsconfig.json` – ensures generators output TypeScript aligned with project rules.

## Available commands
| Command | Description | Options |
| ------- | ----------- | ------- |
| `flowra create-app <name>` | Scaffold a new Flowra application. | `--template <git\|path>` select template, `--package-manager <npm\|yarn\|pnpm>`. |
| `flowra serve` | Start the HTTP server with watch mode and container hot reload. | `--watch`, `--port <number>`, `--env <file>`. |
| `flowra make:module <name>` | Generate module skeleton (routes, controller, service, providers). | `--path <dir>`, `--http` toggle HTTP stubs, `--tests`. |
| `flowra make:controller <module\/name>` | Create a controller inside a module. | `--resource` generate RESTful actions, `--force`. |
| `flowra make:service <module\/name>` | Create a service class and register it. | `--singleton` or `--transient`. |
| `flowra make:model <module\/name>` | Create a Knex-backed model with base methods. | `--table <tableName>`. |
| `flowra make:request <module\/name>` | Generate a validation request class. | `--schema <zod\|yup>`. |
| `flowra make:middleware <module\/name>` | Generate middleware wired into the module kernel. | `--global` register globally. |
| `flowra make:migration <name>` | Create a migration file using Knex stubs. | `--connection <id>`, `--create <table>`, `--table <table>`. |
| `flowra migrate` | Run pending migrations. | `--connection <id>`, `--force`. |
| `flowra migrate:rollback` | Roll back the last batch of migrations. | `--connection <id>`, `--all`. |
| `flowra seed` | Execute database seeders. | `--connection <id>`. |
| `flowra make:test <module\/name>` | Scaffold a Jest test using the application test module. | `--type <unit\|integration>`. |

> **note**
> Run `npx flowra --help` to view descriptions and options for any command. Commands are self-documenting thanks to the console metadata in `core/console/command.ts`.

## Extending the CLI
Add a new command by creating a file inside `core/console/commands`:

```ts
import {Command} from '../command';

export default new Command('cache:clear')
  .description('Clear cache stores')
  .option('--store <store>', 'Select store to clear', 'default')
  .action(async ({container, options}) => {
    const cache = container.resolve(CacheManager);
    await cache.clear(options.store);
    console.log('Cache cleared');
  });
```

Register it in `core/console/index.ts`:

```ts
import cacheClear from './commands/cache-clear.command';

export const commands = [
  // ...existing commands
  cacheClear,
];
```

## Best practices
- Keep generators idempotent—re-running should not break existing files.
- Ask for minimal input and infer sensible defaults from `flowra.config.ts`.
- Write integration tests for commands using the in-memory filesystem utilities under `core/console/testing`.
- Document custom commands in `docs/en/recipes.mdx` so teammates know they exist.
