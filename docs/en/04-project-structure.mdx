---
id: project-structure
slug: /architecture/project-structure
sidebar_position: 4
---

# Project Structure

## Repository layout
A fresh Flowra installation mirrors the layout of the framework repository. Understanding the top-level folders clarifies where to implement features and where to extend the core.

| Path | Purpose |
| ---- | ------- |
| `app/` | Your application code—modules, controllers, services, validators, view models. |
| `core/` | Framework internals: service container, HTTP abstractions, configuration, logging, queue integrations. |
| `main/` | Application bootstrap files (`bootstrap.ts`, environment detection). |
| `bin/` | CLI entrypoints (e.g., `flowra.ts`). |
| `public/` | Static assets served by the HTTP layer. |
| `resources/views/` | Edge-rendered templates or e-mail layouts. |
| `docs/` | Project documentation and architectural decision records. |

## Inside `app/`
Most feature development happens under `app/modules`.

```text
app/
├─ modules/
│  ├─ auth/
│  │  ├─ http/
│  │  │  ├─ controllers/
│  │  │  ├─ middlewares/
│  │  │  └─ routes.ts
│  │  ├─ services/
│  │  ├─ models/
│  │  ├─ validators/
│  │  └─ providers.ts
│  └─ users/
│     └─ ...
├─ providers/
│  └─ index.ts
└─ support/
   ├─ logger.ts
   └─ env.ts
```

- **Modules** encapsulate everything for a bounded context. Each module exports metadata from `index.ts` and registers dependencies in `providers.ts`.
- **Providers** attach module services to the container.
- **Support** hosts cross-cutting utilities (custom loggers, caching clients).

## Inside `core/`
The `core` folder contains the reusable framework primitives.

```text
core/
├─ container/
│  ├─ application-container.ts
│  ├─ decorators.ts
│  ├─ providers.ts
├─ config/
│  ├─ env.ts
│  └─ config.service.ts
├─ http/
│  ├─ kernel.ts
│  ├─ middleware/
│  ├─ router.ts
│  └─ responses/
├─ knex/
│  ├─ connection.factory.ts
│  └─ migrations.ts
└─ testing/
   └─ application-test-module.ts
```

- `container/` builds and exports the dependency injection container.
- `config/` loads `.env` variables, merges configuration files, and exposes typed getters.
- `http/` wraps Express with middleware pipelines, exception handling, and router registration.
- `knex/` encapsulates database connections, migrations, and seeders.
- `testing/` bootstraps the container for integration or unit tests.

## Bootstrap flow
The entrypoint in `main/bootstrap.ts` wires everything together:

1. Load environment variables via `core/config/env.ts`.
2. Instantiate the application container.
3. Register core providers (`core/container/providers.ts`).
4. Register module providers (`app/providers/index.ts`).
5. Register HTTP modules and start the server using `core/http/kernel.ts`.

## Developer hotspots
- **Add new routes/controllers** inside `app/modules/<context>/http`.
- **Share services** via `app/modules/<context>/services` and register them with the container.
- **Create data access logic** in `app/modules/<context>/models` or `core/knex` if shared globally.
- **Tune HTTP pipeline** through `core/http/kernel.ts` and the `middlewares` folder.
- **Automate tasks** in `bin/flowra.ts` and the CLI command definitions under `core/console`.
