"use strict";(globalThis.webpackChunkflowra_docs=globalThis.webpackChunkflowra_docs||[]).push([[893],{4658:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"data/migrations-and-seeds","title":"Migrations & Seeds","description":"Buat, jalankan, dan kelola migrasi serta seed database dengan Flowra CLI.","source":"@site/i18n/id/docusaurus-plugin-content-docs/current/data/migrations-and-seeds.mdx","sourceDirName":"data","slug":"/data/migrations-and-seeds","permalink":"/id/docs/data/migrations-and-seeds","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Migrations & Seeds","description":"Buat, jalankan, dan kelola migrasi serta seed database dengan Flowra CLI."},"sidebar":"docsSidebar","previous":{"title":"Models & Queries","permalink":"/id/docs/data/models-and-queries"},"next":{"title":"Ringkasan CLI","permalink":"/id/docs/cli/overview"}}');var t=n(4848),i=n(8453);const r={title:"Migrations & Seeds",description:"Buat, jalankan, dan kelola migrasi serta seed database dengan Flowra CLI."},l=void 0,d={},o=[{value:"Buat migration",id:"buat-migration",level:2},{value:"Jalankan migrations",id:"jalankan-migrations",level:2},{value:"Rollback",id:"rollback",level:2},{value:"Status migration",id:"status-migration",level:2},{value:"Seeds",id:"seeds",level:2},{value:"Contoh migration",id:"contoh-migration",level:2}];function c(e){const a={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.p,{children:["Flowra membungkus Knex migrations dan seeds melalui CLI yang membaca ",(0,t.jsx)(a.code,{children:"orm.cli.config.js"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"buat-migration",children:"Buat migration"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"flowra db:migrate:make create_users_table\n"})}),"\n",(0,t.jsxs)(a.p,{children:["Secara default, migration disimpan di ",(0,t.jsx)(a.code,{children:"app/Database/Migrations"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"jalankan-migrations",children:"Jalankan migrations"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"flowra db:migrate:latest\n"})}),"\n",(0,t.jsx)(a.h2,{id:"rollback",children:"Rollback"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"flowra db:rollback\nflowra db:rollback --all\n"})}),"\n",(0,t.jsx)(a.h2,{id:"status-migration",children:"Status migration"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"flowra db:status\n"})}),"\n",(0,t.jsx)(a.h2,{id:"seeds",children:"Seeds"}),"\n",(0,t.jsx)(a.p,{children:"Buat seed:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"flowra db:seed:make seed_users\n"})}),"\n",(0,t.jsx)(a.p,{children:"Jalankan seed:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"flowra db:seed:run\n"})}),"\n",(0,t.jsx)(a.h2,{id:"contoh-migration",children:"Contoh migration"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",metastring:'title="app/Database/Migrations/20251025213153_create_table_users.js"',children:"exports.up = function(knex) {\n  return knex.schema.createTable('users', function(table) {\n    table.increments('id').primary();\n    table.string('username').notNullable().unique();\n    table.string('email').notNullable().unique();\n    table.string('password').notNullable();\n    table.timestamp('createdAt').nullable();\n    table.timestamp('updatedAt').nullable();\n    table.timestamp('deletedAt').nullable();\n  });\n};\n\nexports.down = function(knex) {\n  return knex.schema.dropTableIfExists('users');\n};\n"})}),"\n",(0,t.jsx)(a.admonition,{title:"Alias koneksi",type:"note",children:(0,t.jsxs)(a.p,{children:["Gunakan ",(0,t.jsx)(a.code,{children:"--env <alias>"})," pada command migration dan seed untuk menargetkan konfigurasi database tertentu."]})})]})}function u(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>r,x:()=>l});var s=n(6540);const t={},i=s.createContext(t);function r(e){const a=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(i.Provider,{value:a},e.children)}}}]);